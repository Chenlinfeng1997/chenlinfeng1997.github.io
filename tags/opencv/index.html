<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>opencv - 码代码的小陈</title><meta name=description content="opencv - 码代码的小陈"><meta name=author content="小陈"><link rel=canonical href=https://chenlinfeng1997.github.io/tags/opencv/><meta name=google-site-verification content="XYZabc"><link href=https://chenlinfeng1997.github.io/assets/css/stylesheet.min.c91c3ed78ea855658ac993096d76c123286df5a7d191c2ed38d133cf22dc97de.css integrity="sha256-yRw+146oVWWKyZMJbXbBIyht9afRkcLtONEzzyLcl94=" rel="preload stylesheet" as=style><link rel=apple-touch-icon href=https://chenlinfeng1997.github.io/apple-touch-icon.png><link rel=icon href=https://chenlinfeng1997.github.io/favicon.ico><meta name=generator content="Hugo 0.76.4"><link rel=alternate type=application/rss+xml href=https://chenlinfeng1997.github.io/tags/opencv/index.xml><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-123-45','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="opencv"><meta property="og:description" content="我的github博客站点"><meta property="og:type" content="website"><meta property="og:url" content="https://chenlinfeng1997.github.io/tags/opencv/"><meta property="og:image" content="https://chenlinfeng1997.github.io/60"><meta property="og:updated_time" content="2020-10-17T17:00:51+08:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chenlinfeng1997.github.io/60"><meta name=twitter:title content="opencv"><meta name=twitter:description content="我的github博客站点"></head><body class=list id=top><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><p class=logo><a href=https://chenlinfeng1997.github.io/>码代码的小陈</a></p><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://chenlinfeng1997.github.io/><span>首页</span></a></li><li><a href=https://chenlinfeng1997.github.io/post/><span>博客</span></a></li><li><a href=https://chenlinfeng1997.github.io/archives/><span>归档</span></a></li><li><a href=https://chenlinfeng1997.github.io/tags/><span>标签</span></a></li><li><a href=https://chenlinfeng1997.github.io/categories/><span>分类</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>目前总计1篇博文</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>Windows下利用CMake编译opencv及在QT中运行示例</h2></header><section class=entry-content><p>前言  最近想要编写一个QT程序，需要用到opencv库，花了很长时间去配置编译。网上的教程虽然很多，但我查了很多资料，不是时间太久远，就是用了没效果，因此来记录一下编译的流程，也提供给想要在windows下编译opencv的网友一个参考流程
一、所需工具 QT（我的版本号: 5.14.2)官方下载地址 CMake（我的版本号: 3.15)官方下载地址 opencv C++ 源码（我的版本号: 3.4.10)官方下载地址 二、环境变量配置 1.打开控制面板-所有控制面板项-系统，选择高级系统设置 2.选择环境变量 3.在下方系统变量中找到Path，点击右下编辑选项
4.点击右方新建按钮，添加如下路径（这是我的路径，需要根据自己存放的地址进行修改）
三、编译流程 1.为了避免出现error: ‘::hypot’ has not been declared错误，在D:\qt\Tools\mingw730_64\lib\gcc\x86_64-w64-mingw32\7.3.0\include\c++(实际情况根据你存放的路径)中的math.h文件头中加入#define _hypot hypot 2.打开Cmake工具，设定opencv源码路径以及存放编译后文件的路径，点击Configure 3.我选用MinGW编译器，选择第二个选项 4.选择C和C++编译器路径，完成后点击Finish，以下为路径示例：
C D:/qt/Tools/mingw730_64/bin/gcc.exe C++ D:/qt/Tools/mingw730_64/bin/g++.exe 5.等待第一次Configure过程 6.针对我安装流程中出现的问题，对以下选项做特殊处理：
取消勾选 OPENCV_ENABLE_ALLOCATOR_STATS 勾选 WITH_OPENGL 勾选 WITH_QT 点击 Configure按钮进行配置，进行第2次Configure， 7.配置选项就全变白了，点击Generate 8.显示Generating done，即已完成Makefiles文件 9.命令行(win+R文本框输入cmd)进入自定义的编译文件存放路径，执行mingw32-make -j 8 耐心等待很长一段时间，显示如下所示图即已完成编译 四、运行示例 1.在系统变量中配置环境变量，这里我用之前已经编译好的作为示例
2.在QT中新建一个项目，基于QWidget或者QMainWindows都行，在.pro文件中增加编译文件中头文件以及动态链接库地址，如下所示代码 3.在opencv源码的samples/cpp里随便选用一个cpp文件直接复制粘贴到项目的main.cpp，这里用detect_blob.cpp示范，成功运行 ...</p></section><footer class=entry-footer><time>October 17, 2020</time>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;小陈</footer><a class=entry-link aria-label="post link to Windows下利用CMake编译opencv及在QT中运行示例" href=https://chenlinfeng1997.github.io/2020/10/19/cmake_opencv.html></a></article></main><footer class=footer><span>&copy; 2020 <a href=https://chenlinfeng1997.github.io/>码代码的小陈</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo️️</a>️</span>
<span>&#183;</span>
<span>Theme️ <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top"><button class=top-link id=top-link type=button><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"});});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>localStorage.removeItem("pref-theme");</script></body></html>